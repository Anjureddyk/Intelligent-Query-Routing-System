# Intelligent-Query-Routing-System
Developed a system to classify and route queries to appropriate response models based on keyword analysis.

As we all know that the chatbots like chatgpt, phind, gemini, meta ai etc. Gives the response in such a way that, even a for a small query which contains keywords like “who”, “where”, “when”, “what” etc. It would give us an answer which includes everything about the context, for clear understanding see the example below. 

![image](https://github.com/user-attachments/assets/900053fb-937e-4fcd-ad94-80bd34bc7a1e)

As you can see the above answer which has been generated by chatgpt. The query was pretty much simple, what is data science? Even though I was asking simple definition of data science, the model was able to provide the entire context about the data science. To address this issue, we can come with solution of “Intelligent Query Routing System”. 

Now, what is Intelligent Query Routing System?
This system will be capable of handling the user queries very efficiently, in such a way that, when a user is requesting for something from an AI bot, this query system must be able to understand the context of the query. After understanding the query, the system must be able to route that query to the appropriate model which can answer query properly. Some times we would just require the definition of something not the entire story behind it. So, the below model has been proposed to route the query by understanding the user requirements.

![image](https://github.com/user-attachments/assets/d21dceaa-5f30-4165-99ca-5212faf15617)

Steps to classify the query whether it requires a document or normal text as an output:
1.	When the user sends a query request to chat bot, the query will be analyzed based on the keywords.
2.	As shown in the above flow diagram, if the query is normal, we can send the query to Rule Based Systems, since they work based on pattern matching, the keywords can be manually created the programmer and the programmer will be responsible for designing the rules. 
•	The keywords may include (why, what, how, when, where, which etc.). 
•	Based on the keywords we can route the query into Rule based System or the Generative AI system.
3.	These rule-based systems are composed of rules, if-then statements and keywords itself, so the error rate will be very less, when the query requested by the user requires a very small output or one word or one sentence output, we can use rule-based systems.
4.	Now, the generative AI systems are well known for generating or creating new text based on the old text this will be appropriate for generating long documents. These AI’s specifically built using NLP techniques, DL techniques, and LLM’s.
5.	Finally, the output will be displayed for the user based on the keywords present in the query itself, and as mentioned if the generative AI does not contain the document which we are looking for we can re-direct the query routing for the specific domain itself.

Code Implementation:
1.	Tried to implement the above steps using python, firstly defined the keywords which would require very short responses such as one word or one sentences. (keywords: who, when, where, which, how, ? , what, why).
•	As we all rule based system does not require any kind of pre-training or building a machine learning algorithm, it is solely based on pattern matching or string matching.
•	Whenever the query is received, the rule based system will check the strings such as the key words mentioned above, if those key words are present in the query, the query is sent to the rule based system or else to the generative AI method.
2.	When the query does not contain any keywords specified for rule based system, than the query will passed to generative AI function or method.
•	Here we have used transformers “automodelforquestionanswering” in order to receive queries and respond to those queries.
•	To answer the queries which does not require short answers or which require documented answers we will pass the query to this transformer.
•	To answer the queries which are not present in the dataset or does not match the keywords in the query we are specifically using gpt model 2.
Below the screenshots attached with the outputs from the implementation.  Specifically for the queries which would require longer answers or documented answers, the answer is not so appropriate because the fine-tuning part is not done, the length of the answer is short because, I have set the max length parameter to 150. 

![image](https://github.com/user-attachments/assets/8983bf6a-181a-4938-b7a1-e631c655824a)

![image](https://github.com/user-attachments/assets/2a4acda2-29a8-4d6e-86c7-72499f2b176a)

This is the query which is passed to the rule-based system and this system is able to restrict the response to the query appropriately.
This model can still be improvised by utilizing more data for rule-based system and fine tuning for generative AI approach.
